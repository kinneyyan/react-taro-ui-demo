(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{"119":function(e,t,n){"use strict";n.d(t,"a",(function(){return getPrefixCls})),n.d(t,"b",(function(){return getSystemInfo})),n.d(t,"c",(function(){return selectorQueryClientRect})),n.d(t,"d",(function(){return uuid}));var c=n(252),a=n(270),r=null;function getPrefixCls(e){return"".concat("bf","-").concat(e)}function uuid(){for(var e=[],t=0;t<36;t++)e[t]="0123456789abcdef".substring(Math.floor(16*Math.random()),1);return e[14]="4",e[19]="0123456789abcdef".substring(3&e[19]|8,1),e[8]=e[13]=e[18]=e[23]="-",e.join("")}function getSystemInfo(){return new Promise((function(e,t){r&&e(r),Object(c.a)().then((function(t){e(r=t)})).catch((function(e){return t(e)}))}))}function selectorQueryClientRect(e){return new Promise((function(t){Object(a.a)().select(e).boundingClientRect().exec((function(e){t(e)}))}))}},"120":function(e,t,n){"use strict";function __rest(e,t){var n={};for(var c in e)Object.prototype.hasOwnProperty.call(e,c)&&t.indexOf(c)<0&&(n[c]=e[c]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(c=Object.getOwnPropertySymbols(e);a<c.length;a++)t.indexOf(c[a])<0&&Object.prototype.propertyIsEnumerable.call(e,c[a])&&(n[c[a]]=e[c[a]])}return n}function __awaiter(e,t,n,c){return new(n||(n=Promise))((function(a,r){function fulfilled(e){try{step(c.next(e))}catch(e){r(e)}}function rejected(e){try{step(c.throw(e))}catch(e){r(e)}}function step(e){e.done?a(e.value):function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((c=c.apply(e,t||[])).next())}))}n.d(t,"a",(function(){return __awaiter})),n.d(t,"b",(function(){return __rest}))},"122":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var c={"exports":{}}},"123":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var c=n(120),a=n(117),r=n(121),i=n(17),s=n.n(i),o=n(124);function Iconfont(e){var t=e.type,n=e.onClick,i=e.className,s=e.style,u=Object(c.b)(e,["type","onClick","className","style"]);return Object(a.jsx)(o.c,Object.assign({"prefixClass":"iconfont","value":"","className":Object(r.a)(t,i),"customStyle":Object.assign({},s,{"fontSize":"16px"}),"onClick":n},u))}var u=s.a.memo(Iconfont)},"189":function(e,t,n){},"271":function(e,t,n){"use strict";n.r(t);n(189);var c=n(4),a=n(12),r=n(15),i=n(120),s=n(117),o=n(119),u=n(123),l=n(118),f=n(121),d=n(17);function SelectAll(e){var t=e.selectAll,n=e.onChange,c=e.checked,a=e.partChecked,r=function onCheckBoxChange(e){e.stopPropagation(),n&&n(!c)};return Object(s.jsxs)(l.s,Object.assign({"className":Object(f.a)("check-box-wrapper",{"padding":t})},{"children":[function renderCheckBox(){return c?Object(s.jsx)(l.s,Object.assign({"className":"checked","onClick":r},{"children":Object(s.jsx)(u.a,{"type":"icon-checkbox-on","className":"icon"})})):a?Object(s.jsx)(l.s,Object.assign({"className":"part-checked","onClick":r},{"children":Object(s.jsx)(u.a,{"type":"icon-checkbox-part","className":"icon"})})):c?null:Object(s.jsx)(l.s,Object.assign({"className":"unchecked","onClick":r},{"children":Object(s.jsx)(u.a,{"type":"icon-checkbox","className":"icon"})}))}(),t&&Object(s.jsx)(l.s,Object.assign({"className":"check-text"},{"children":"全选"}))]}))}function TitleNode(e){var t=e.grade;return Object(s.jsx)(l.s,Object.assign({"className":"grade"},{"children":t}))}var j=Object(o.a)("tree-select");function TreeSelect(e){var t=this,n=e.className,o=e.treeData,h=e.onChange,b=e.titles,p=e.checkedCodesVal,O=e.code,g=void 0===O?"code":O,v=e.name,m=void 0===v?"name":v,C=e.level,x=void 0===C?"level":C,N=e.parentCode,k=void 0===N?"parentCode":N,y=e.subList,S=void 0===y?"subList":y,w=Object(i.b)(e,["className","treeData","onChange","titles","checkedCodesVal","code","name","level","parentCode","subList"]),A=Object(f.a)(j,n),L=Object(d.useState)([]),P=Object(r.a)(L,2),T=P[0],I=P[1],_=Object(d.useState)({"1":o}),D=Object(r.a)(_,2),F=D[0],R=D[1],E=Object(d.useState)(""),B=Object(r.a)(E,2),H=B[0],J=B[1],V=Object(d.useState)(1),G=Object(r.a)(V,2),M=G[0],Q=G[1],W=Object(d.useState)([]),z=Object(r.a)(W,2),U=z[0],q=z[1],K=Object(d.useState)([!1,!1,!1,!1]),X=Object(r.a)(K,2),Y=X[0],Z=X[1],$=Object(d.useState)([]),ee=Object(r.a)($,2),te=ee[0],ne=ee[1],ce=Object(d.useRef)([]);Object(d.useEffect)((function(){R({"1":o}),ie(o)}),[o]),Object(d.useEffect)((function(){o&&o.length>0&&Array.isArray(p)&&p.length>=0&&se(p)}),[p,o]);var ae=function getFinalCodes(e){var t=[],n=[];return ce.current.map((function(c){e.includes(c[g])&&(t.push(c[g]),n.push(c))})),[t,n]},re=function getAllCodes(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;return e.map((function(e){e[S]&&e[S].length>0&&getAllCodes(e[S],t),t.push(e[g])})),t},ie=function findLastLevelCodes(e){e.map((function(e){(!e[S]||e[S].length<1)&&(ce.current.push(e),e[x]=Number(e[x])),e[S]&&e[S].length>0&&(findLastLevelCodes(e[S]),e[x]=Number(e[x]))}))},se=function calcStatus(e){if(!(e.length>0&&e.every((function(e){return T.includes(e)})))){e&&0===e.length&&(J(""),q([]));var t=Object(a.a)(e),n=Object(a.a)(te),c=Object(a.a)(Y);e.map((function(a){(ue(o,a)||[]).map((function(a){if(a[S].every((function(e){return t.includes(e[g])}))){t.push(a[g]),c[a[x]]=!0;var r=n.findIndex((function(e){return e===a[g]}));r>-1&&n.splice(r,1)}var i=a[S].map((function(e){return e[g]}));i.filter((function(t){return new Set(e).has(t)})).length<i.length&&te.indexOf(a[g])<0&&n.push(a[g])}))})),0===e.length&&(n=[],c.fill(!1,0)),ne(n),Z(c),I(t||[])}},oe=function onSelectAll(e,t){var n=[],c=t-1,i=new Array(4),s=F[t][0],u=[];if(1!==t){var l=ue(o,s[g]);l.length>0&&re(l[0][S],u)}var f=Object(a.a)(te);if(e){if(1===t){var d=[];re(o,d),n=[].concat(d),I(n),f=[],i.fill(!0,0)}1!==t&&(n=[].concat(Object(a.a)(T),[],u,[s[k]]),de(s,n,e,i,f),I(n)),i=Object(a.a)(i).fill(!0,c)}if(!e){if(1===t&&I(n=[]),1!==t){var j=new Set([].concat(u,[s[k]]));n=Object(a.a)(T).filter((function(e){return!j.has(e)})),de(s,n,e,i,f),I(n)}i.fill(!1,0)}Z(i),ne(f);var b=ae(n),p=Object(r.a)(b,2),O=p[0],v=p[1];h(O,v)},ue=function findParentsData(e,t){if(0!=e.length)for(var n=0;n<e.length;n++){if(e[n][g]==t)return[];if(e[n][S]){var c=findParentsData(e[n][S],t);if(void 0!==c)return c.concat(e[n])}}},le=function getRenderData(e,t){var n=t;1===t&&H!==e[g]&&R({"1":o});var r=function findParentsCodes(e,t){if(0!=e.length)for(var n=0;n<e.length;n++){if(e[n][g]==t)return[];if(e[n][S]){var c=findParentsCodes(e[n][S],t);if(void 0!==c)return c.concat(e[n][g])}}}(o,e[g]);q(r),J(e[g]),t++;var i=[];e[S]&&e[S].length>0&&(i=e[S]),Q(t),R((function(e){return Object.assign(Object.assign({},e),Object(c.a)({},t,i))}));var s=i.map((function(e){return e[g]})),u=s.filter((function(e){return new Set(Object(a.a)(T)).has(e)})).length===s.length;Z((function(e){var t=Object(a.a)(e);return t[n]=u,t}))},fe=function isChecked(e){var t=!1;return T&&T.length>0&&T.indexOf(e[g])>-1&&(t=!0),t},de=function findAllCheckPcode(e,t,n,c,a){var r=ue(o,e[g]);if(0===r.length){var i=a.findIndex((function(t){return t===e[g]}));i>-1&&a.splice(i,1)}return r.map((function(e){if(n){if(e[S].every((function(e){return t.includes(e[g])}))){t.push(e[g]),c[e[x]]=!0;var r=a.findIndex((function(t){return t===e[g]}));r>-1&&a.splice(r,1)}var i=e[S].map((function(e){return e[g]}));i.filter((function(e){return new Set(t).has(e)})).length<i.length&&te.indexOf(e[g])<0&&a.push(e[g])}if(!n){if(e[S].some((function(e){return!t.includes(e[g])}))){var s=t.findIndex((function(t){return t===e[g]}));s>-1&&(t.splice(s,1),c[e[x]]=!1)}var o=e[S].map((function(e){return e[g]})),u=o.filter((function(e){return new Set(t).has(e)}));if(u.length<o.length&&u.length>0&&a.indexOf(e[g])<0&&a.push(e[g]),u.lengh===o.length||0===u.length){var l=a.findIndex((function(t){return t===e[g]}));l>-1&&a.splice(l,1)}if(1===e[x]){var f=[];if(re(e[S],f),f.some((function(e){return new Set(t).has(e)})))a.push(e[g]);else{var d=a.findIndex((function(t){return t===e[g]}));d>-1&&a.splice(d,1)}}}})),t},je=function onItemCheck(e,t){var n=new Array(4),c=Object(a.a)(te),i=function getCheckedCodes(e,t,n,c){var r=t[S]?t[S]:[],i=[],s=[],o=[],u=[];if(re(r,u),e&&(i.push(t[g]),o=[].concat(Object(a.a)(T),i,u),s=de(t,o,e,n,c)),!e){var l=new Set([].concat(u,[t[g]]));o=Object(a.a)(T).filter((function(e){return!l.has(e)})),s=de(t,o,e,n,c)}return s}(e,t,n,c);if(I(i),1===t[x]){var s=F[t[x]].map((function(e){return e[g]}));if(e)if(s.every((function(e){return i.includes(e)}))){n.fill(!0,t[x]-1);var o=te.findIndex((function(e){return e[g]===t[g]}));o>-1&&c.splice(o,1)}else n.fill(!0,t[x])}if(1!==t[x]){var u=!!e,l=F[t[x]].map((function(e){return e[g]})).every((function(e){return new Set(i).has(e)}))?t[x]-1:t[x];n.fill(u,l)}Z(n),ne(c);var f=ae(i),d=Object(r.a)(f,2),j=d[0],b=d[1];h(j,b)},he=function isPartChecked(e){return te.indexOf(e)>-1},be=function gradePartChecked(e){var t=!1;if(0===T.length)return!1;var n=F[e].map((function(e){return e[g]})),c=Object(a.a)(n).filter((function(e){return new Set(T).has(e)}));return c.length<n.length&&(t=!0),0===c.length&&4===e&&(t=!1),1===e&&T.length>0&&(t=!0),t},pe=function renderItems(e){return(F[e]||[]).map((function(n){return Object(s.jsxs)(l.s,Object.assign({"className":"select-item","onClick":le.bind(t,n,n[x])},{"children":[Object(s.jsx)(SelectAll,{"onChange":function onChange(e){je(e,n)},"checked":fe(n),"partChecked":he(n[g])}),Object(s.jsx)(l.s,Object.assign({"className":Object(f.a)("check-text",{"select":U.includes(n[g])||H===n[g]})},{"children":n[m]})),4!==e&&Object(s.jsx)(u.a,{"type":"icon-youjiantou","className":U.includes(n[g])||H===n[g]?" youjiantou  select":" youjiantou"})]}),n[g])}))};return Object(s.jsxs)(l.s,Object.assign({"className":A},w,{"children":[Object(s.jsxs)(l.s,Object.assign({"className":"select-title"},{"children":[Object(s.jsx)(TitleNode,{"grade":b[0]}),Object(s.jsx)(SelectAll,{"selectAll":!0,"checked":Y[0],"partChecked":be(1),"onChange":function onChange(e){return oe(e,1)}}),Object(s.jsx)(l.s,Object.assign({"className":"select-item-wrapper"},{"children":pe(1)}))]})),Object(s.jsxs)(l.s,Object.assign({"className":"select-title"},{"children":[Object(s.jsx)(TitleNode,{"grade":b[1]}),M>=2&&Object(s.jsxs)(s.Fragment,{"children":[F[2]&&F[2].length>0&&Object(s.jsx)(SelectAll,{"selectAll":!0,"checked":Y[1],"partChecked":be(2),"onChange":function onChange(e){return oe(e,2)}}),Object(s.jsx)(l.s,Object.assign({"className":"select-item-wrapper"},{"children":pe(2)}))]})]})),Object(s.jsxs)(l.s,Object.assign({"className":"select-title"},{"children":[Object(s.jsx)(TitleNode,{"grade":b[2]}),M>=3&&Object(s.jsxs)(s.Fragment,{"children":[F[3]&&F[3].length>0&&Object(s.jsx)(SelectAll,{"selectAll":!0,"checked":Y[2],"partChecked":be(3),"onChange":function onChange(e){return oe(e,3)}}),Object(s.jsx)(l.s,Object.assign({"className":"select-item-wrapper"},{"children":pe(3)}))]})]})),Object(s.jsxs)(l.s,Object.assign({"className":"select-title"},{"children":[Object(s.jsx)(TitleNode,{"grade":b[3]}),M>=4&&Object(s.jsxs)(s.Fragment,{"children":[F[4]&&F[4].length>0&&Object(s.jsx)(SelectAll,{"selectAll":!0,"checked":Y[3],"partChecked":be(4),"onChange":function onChange(e){return oe(e,4)}}),Object(s.jsx)(l.s,Object.assign({"className":"select-item-wrapper"},{"children":pe(4)}))]})]}))]}))}var h=[{"code":"0000100004","name":"东南区|BU_SE","parentCode":"0000100000","level":1,"provinceCode":"","provinceName":"","status":1,"updateTime":"2022-05-128","subList":[{"code":"0000100026","name":"江西北部|Jiangxi_North","parentCode":"0000100004","level":2,"provinceCode":"","provinceName":"","status":1,"updateTime":"2022-05-128","subList":[{"code":"0000105970","name":"高安|Gaoan","parentCode":"0000100026","level":3,"provinceCode":"","provinceName":"","status":1,"updateTime":"2022-05-128","subList":[{"code":"0000105559","name":"高安|Gaoan","parentCode":"0000105970","level":4,"provinceCode":"","provinceName":"","status":1,"updateTime":"2022-05-128","subList":[]}]},{"code":"0000105972","name":"武宁|Wuning","parentCode":"0000100026","level":3,"provinceCode":"","provinceName":"","status":1,"updateTime":"2022-05-128","subList":[{"code":"0000105527","name":"武宁|Wuning","parentCode":"0000105972","level":4,"provinceCode":"","provinceName":"","status":1,"updateTime":"2022-05-128","subList":[]}]},{"code":"0000105571","name":"萍乡|Pingxiang","parentCode":"0000100026","level":3,"provinceCode":"","provinceName":"","status":1,"updateTime":"2022-05-128","subList":[{"code":"0000105561","name":"萍乡|Pingxiang","parentCode":"0000105571","level":4,"provinceCode":"","provinceName":"","status":1,"updateTime":"2022-05-128","subList":[]}]},{"code":"0000106032","name":"黄山|Huangshan","parentCode":"0000100026","level":3,"provinceCode":"","provinceName":"","status":1,"updateTime":"2022-05-128","subList":[{"code":"0000105529","name":"黄山|Huangshan","parentCode":"0000106032","level":4,"provinceCode":"","provinceName":"","status":1,"updateTime":"2022-05-128","subList":[]},{"code":"0000105530","name":"黄山2|Huangshan2","parentCode":"0000106032","level":4,"provinceCode":"","provinceName":"","status":1,"updateTime":"2022-05-128","subList":[]}]}]}]}];t.default=function(){var e=Object(d.useState)(["0000105530"]),t=Object(r.a)(e,2),n=t[0],c=t[1];return Object(s.jsx)(s.Fragment,{"children":Object(s.jsx)(TreeSelect,{"titles":["大渠道","小渠道","业态","子业态"],"treeData":h,"checkedCodesVal":n,"onChange":function onChange(e,t){c(e),console.log("value: ",e,t)}})})}}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{"122":function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(119),r=a(116),i=a(120),s=a(17),d=a.n(s),c=a(123);function Iconfont(e){var t=e.type,a=e.onClick,s=e.className,d=e.style,l=Object(n.b)(e,["type","onClick","className","style"]);return Object(r.jsx)(c.c,Object.assign({"prefixClass":"iconfont","value":"","className":Object(i.a)(t,s),"customStyle":Object.assign({},d,{"fontSize":"16px"}),"onClick":a},l))}var l=d.a.memo(Iconfont)},"169":function(e,t,a){"use strict";a.d(t,"a",(function(){return Table}));var n=a(21),r=a(4),i=a(12),s=a(7),d=a(15),c=a(119),l=a(116),o=a(118),u=a(122),b=a(129),f=a(117),j=a(23),h=a(120),g=a(17),m=a(123),x=Object(o.a)("table");function Table(e){var t=this,a=e.onColumnEdit,o=e.editingColumn,O=e.columns,w=e.dataSource,y=e.rowKey,p=e.showHeader,v=void 0===p||p,k=e.showNestedHeader,N=void 0!==k&&k,I=e.bordered,T=void 0!==I&&I,C=e.plain,S=void 0!==C&&C,E=e.reverseBg,K=void 0!==E&&E,B=e.fixedPadding,H=void 0!==B&&B,P=Object(g.useState)(w),_=Object(d.a)(P,2),z=_[0],J=_[1],R=function renderWidth(e){switch(Object(s.a)(e)){case"number":return j.a.pxTransform(Number(e));case"string":return e;default:return"auto"}},q=function renderColumnStyle(e){var t=e.fixed&&(null==O?void 0:O.findIndex((function(t){return t.dataIndex===e.dataIndex}))),a=0;if(t){var n=null==O?void 0:O.filter((function(e,a){return a<t}));a=(null==n?void 0:n.reduce((function(e,t){return e+Number(t.width)}),0))||0}return{"width":R(e.width),"position":e.fixed?"sticky":"initial","zIndex":e.fixed?1:0,"left":a?j.a.pxTransform(a):0}},D=function handleColumnEdit(e){a&&a(e);var t=z.map((function(t){var a=t.isEditing;return a["".concat(e.dataIndex)]=!0,Object.assign(Object.assign({},t),{"isEditing":a})}));J(t)};return Object(g.useEffect)((function(){var e=O.filter((function(e){return e.editable}));if(e.length){var t={};e.forEach((function(e){t["".concat(e.dataIndex)]=!1}));var a=w.map((function(e){return Object.assign(Object.assign({},e),{"isEditing":t})}));J(a)}else J(w)}),[w]),Object(g.useEffect)((function(){o&&D(o)}),[o]),Object(l.jsx)(f.s,Object.assign({"className":x},{"children":Object(l.jsxs)(f.s,Object.assign({"style":function renderTableStyle(){var e,t=null==O?void 0:O.every((function(e){return"number"==typeof e.width}));return t&&(e=null==O?void 0:O.reduce((function(e,t){return e+Number(t.width)}),0)),{"width":t?j.a.pxTransform(e):"auto"}}(),"className":"table"},{"children":[v&&Object(l.jsx)(f.s,Object.assign({"className":"table-row"},{"children":null==O?void 0:O.map((function(e,t){var a,n;return Object(l.jsxs)(f.s,Object.assign({"style":Object.assign(Object.assign({},q(e)),{"backgroundColor":K||S?"#ffffff":"#fff8f8"}),"className":Object(h.a)("table-cell","th",{"bordered":T||e.borderRight,"nested-th":N,"edit":e.editable,"plain":S}),"onClick":function onClick(){return D(e)}},{"children":[e.editable&&Object(l.jsx)(u.a,{"type":"icon-wodeshenqing","className":"icon"}),e.title]}),null!==(n=null!==(a=e.dataIndex)&&void 0!==a?a:e.key)&&void 0!==n?n:t)}))})),null==z?void 0:z.map((function(e,a){return Object(l.jsx)(f.s,Object.assign({"className":"table-row"},{"children":null==O?void 0:O.map((function(s,d){var o,u,j,g;return Object(l.jsx)(f.s,Object.assign({"style":Object.assign(Object.assign({},q(s)),{"backgroundColor":S?"#ffffff":a%2==(K?0:1)?"#fff8f8":"#ffffff"}),"className":Object(h.a)("table-cell",{"bordered":T||s.borderRight,"fixed-padding":H,"plain":S})},{"children":s.editable&&(null===(o=e.isEditing)||void 0===o?void 0:o[s.dataIndex])?Object(l.jsx)(m.d,{"type":s.editType,"name":null!==(u=s.dataIndex)&&void 0!==u?u:"","value":e[s.dataIndex],"onBlur":function onBlur(d){return Object(c.a)(t,void 0,void 0,Object(n.a)().mark((function _callee(){var t;return Object(n.a)().wrap((function _callee$(n){for(;;)switch(n.prev=n.next){case 0:if(!s.handleSave){n.next=5;break}return n.next=3,s.handleSave(e,d,a);case 3:n.sent&&((t=Object(i.a)(z)).forEach((function(t){(t[y]||t.key)===(e[y]||e.key)&&(t[s.dataIndex]=d,t.isEditing=Object.assign(Object.assign({},t.isEditing),Object(r.a)({},s.dataIndex,!1)))})),J(t));case 5:case"end":return n.stop()}}),_callee)})))},"onChange":function onChange(){return null},"border":!1}):s.render?s.render(e[s.dataIndex],e,a):b.c.isNull(e[s.dataIndex])?"-":e[s.dataIndex]}),null!==(g=null!==(j=s.dataIndex)&&void 0!==j?j:s.key)&&void 0!==g?g:d)}))}),y?e[y]:e.key||a)}))]}))}))}},"204":function(e,t,a){},"307":function(e,t,a){"use strict";a.r(t);a(204);var n=a(4),r=a(15),i=a(116),s=a(118),d=a(117),c=a(23),l=a(120),o=a(17),u=a(169),b=Object(s.a)("nested-table");function NestedTable(e){var t,a=e.rowKey,s=e.category,f=e.subCategory,j=e.columns,h=e.dataSource,g=e.bordered,m=void 0!==g&&g,x=j.some((function(e){var t;return!!(null===(t=e.children)||void 0===t?void 0:t.length)})),O=j.map((function(e){return{"key":e.key,"title":e.title,"dataIndex":e.key,"width":c.a.pxTransform(e.width)}})),w=j.reduce((function(e,t){return e+t.width}),0),y=null===(t=null==j?void 0:j.map((function(e){return null==e?void 0:e.children})))||void 0===t?void 0:t.flat(),p=Object(o.useState)(),v=Object(r.a)(p,2),k=v[0],N=v[1];return Object(i.jsx)(d.s,Object.assign({"className":b},{"children":Object(i.jsxs)(d.s,Object.assign({"style":{"width":c.a.pxTransform(s.width+f.width+w)},"className":"table"},{"children":[x&&Object(i.jsxs)(d.s,Object.assign({"className":"table-row"},{"children":[Object(i.jsx)(d.s,{"style":{"width":c.a.pxTransform(s.width),"left":0},"className":Object(l.a)("table-cell","bg","fixed",{"bordered":m})}),Object(i.jsx)(d.s,{"style":{"width":c.a.pxTransform(f.width),"left":c.a.pxTransform(s.width)},"className":Object(l.a)("table-cell","bg","fixed",{"bordered":m})}),Object(i.jsx)(d.s,Object.assign({"style":{"width":c.a.pxTransform(w)},"className":"table-cell"},{"children":Object(i.jsx)(u.a,{"showNestedHeader":!0,"columns":O,"rowKey":"","dataSource":[],"bordered":m})}))]})),Object(i.jsxs)(d.s,Object.assign({"className":"table-row"},{"children":[Object(i.jsx)(d.s,{"style":{"width":c.a.pxTransform(s.width),"left":0},"className":Object(l.a)("table-cell","bordered","fixed",{"bg":!x})}),Object(i.jsx)(d.s,{"style":{"width":c.a.pxTransform(f.width),"left":c.a.pxTransform(s.width)},"className":Object(l.a)("table-cell","fixed",{"bordered":m,"bg":!x})}),Object(i.jsx)(d.s,Object.assign({"style":{"width":c.a.pxTransform(w)},"className":"table-cell"},{"children":Object(i.jsx)(u.a,{"columns":x?y:j,"rowKey":"","dataSource":[],"bordered":m,"onColumnEdit":function onColumnEdit(e){return N(Object.assign(Object.assign({},e),{"timestamp":+new Date}))},"reverseBg":x})}))]})),h.map((function(e,t){return Object(i.jsxs)(d.s,Object.assign({"className":"table-row"},{"children":[Object(i.jsx)(d.s,Object.assign({"style":{"width":c.a.pxTransform(s.width),"left":0},"className":Object(l.a)("table-cell","category-cell","fixed","bordered",{"bg":t%2!=(x?1:0)})},{"children":e.category})),Object(i.jsx)(d.s,Object.assign({"style":{"width":c.a.pxTransform(f.width),"left":c.a.pxTransform(s.width)},"className":Object(l.a)("table-cell","fixed")},{"children":Object(i.jsx)(u.a,{"columns":[{"dataIndex":f.key,"title":"","width":c.a.pxTransform(f.width)}],"rowKey":"","dataSource":e.data.map((function(e,t){return Object(n.a)({"key":e.key||t},f.key,e[f.key])})),"showHeader":!1,"bordered":m,"reverseBg":x||!x&&t%2==1,"fixedPadding":!0})})),Object(i.jsx)(d.s,Object.assign({"className":"table-cell"},{"children":Object(i.jsx)(u.a,{"showHeader":!1,"dataSource":e.data,"editingColumn":k,"columns":x?y:j,"bordered":m,"rowKey":a,"reverseBg":x||!x&&t%2==1,"fixedPadding":!0})}))]}),e.key||e[s.key]||t)}))]}))}))}t.default=function(){return Object(i.jsxs)(i.Fragment,{"children":[Object(i.jsx)(d.s,{"className":"group-title","children":"基础用法"}),Object(i.jsx)(NestedTable,{"rowKey":"key","category":{"key":"id","width":124},"subCategory":{"key":"name","width":204},"columns":[{"key":"numbers","title":"门店数","width":276,"children":[{"title":"目标","dataIndex":"target","key":"target","width":152},{"title":"实际","dataIndex":"real","key":"real","width":124}]},{"key":"sales","title":"销量 (本月)","width":540,"children":[{"title":"总签约","dataIndex":"total","key":"total","width":148},{"title":"签约高端","dataIndex":"high","key":"high","width":180},{"title":"签约超高端","dataIndex":"super","key":"super","width":208}]}],"dataSource":[{"key":"1","category":"总签约门店","data":[{"id":"1","name":"汇总","target":34,"real":43,"total":36,"high":954,"super":4284},{"id":"2","name":"专营签约","target":34,"real":43,"total":36,"high":954,"super":4284},{"id":"3","name":"专促签约","target":34,"real":43,"total":36,"high":954,"super":4284},{"id":"4","name":"混场包量","target":34,"real":43,"total":36,"high":954,"super":4284}]},{"key":"2","category":"新增签约门店","data":[{"id":"1","name":"汇总","target":334,"real":443,"total":136,"high":9554,"super":42284},{"id":"2","name":"专营签约","target":364,"real":433,"total":3236,"high":9554,"super":46284},{"id":"3","name":"专促签约","target":374,"real":413,"total":436,"high":9564,"super":41284},{"id":"4","name":"混场包量","target":434,"real":463,"total":736,"high":9254,"super":41284}]}],"bordered":!0})]})}}}]);
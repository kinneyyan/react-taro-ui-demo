(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{"140":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var c=n(120),a=n(117),s=n(121),o=n(17),i=n.n(o),r=n(141);function Iconfont(e){var t=e.type,n=e.onClick,o=e.className,i=e.style,u=Object(c.b)(e,["type","onClick","className","style"]);return Object(a.jsx)(r.c,Object.assign({"prefixClass":"iconfont","value":"","className":Object(s.a)(t,o),"customStyle":Object.assign({},i,{"fontSize":"16px"}),"onClick":n},u))}var u=i.a.memo(Iconfont)},"142":function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var c=n(8),a=n(143),s=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,r=/^0o[0-7]+$/i,u=parseInt,l="object"==Object(c.a)(a.a)&&a.a&&a.a.Object===Object&&a.a,b="object"==("undefined"==typeof self?"undefined":Object(c.a)(self))&&self&&self.Object===Object&&self,j=l||b||Function("return this")(),d=Object.prototype.toString,f=Math.max,O=Math.min,m=function now(){return j.Date.now()};function isObject(e){var t=Object(c.a)(e);return!!e&&("object"==t||"function"==t)}function isSymbol(e){return"symbol"==Object(c.a)(e)||function isObjectLike(e){return!!e&&"object"==Object(c.a)(e)}(e)&&"[object Symbol]"==d.call(e)}function toNumber(e){if("number"==typeof e)return e;if(isSymbol(e))return NaN;if(isObject(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=isObject(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(s,"");var n=i.test(e);return n||r.test(e)?u(e.slice(2),n?2:8):o.test(e)?NaN:+e}var h=function debounce(e,t,n){var c,a,s,o,i,r,u=0,l=!1,b=!1,j=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function invokeFunc(t){var n=c,s=a;return c=a=void 0,u=t,o=e.apply(s,n)}function leadingEdge(e){return u=e,i=setTimeout(timerExpired,t),l?invokeFunc(e):o}function shouldInvoke(e){var n=e-r;return void 0===r||n>=t||n<0||b&&e-u>=s}function timerExpired(){var e=m();if(shouldInvoke(e))return trailingEdge(e);i=setTimeout(timerExpired,function remainingWait(e){var n=t-(e-r);return b?O(n,s-(e-u)):n}(e))}function trailingEdge(e){return i=void 0,j&&c?invokeFunc(e):(c=a=void 0,o)}function debounced(){var e=m(),n=shouldInvoke(e);if(c=arguments,a=this,r=e,n){if(void 0===i)return leadingEdge(r);if(b)return i=setTimeout(timerExpired,t),invokeFunc(r)}return void 0===i&&(i=setTimeout(timerExpired,t)),o}return t=toNumber(t)||0,isObject(n)&&(l=!!n.leading,s=(b="maxWait"in n)?f(toNumber(n.maxWait)||0,t):s,j="trailing"in n?!!n.trailing:j),debounced.cancel=function cancel(){void 0!==i&&clearTimeout(i),u=0,c=r=a=i=void 0},debounced.flush=function flush(){return void 0===i?o:trailingEdge(m())},debounced}},"143":function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return c}));var c="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{}}).call(this,n(35))},"144":function(e,t,n){"use strict";n.d(t,"a",(function(){return Affix}));var c=n(4),a=n(120),s=n(117),o=n(119),i=n(118),r=n(121),u=Object(o.a)("affix"),l={"left":"".concat(u,"-left"),"center":"".concat(u,"-center"),"right":"".concat(u,"-right"),"space-between":"".concat(u,"-space-between"),"space-around":"".concat(u,"-space-around")},b={"top":"".concat(u,"-top"),"bottom":"".concat(u,"-bottom")};function Affix(e){var t=e.className,n=e.children,o=e.layout,j=void 0===o?"center":o,d=e.postion,f=void 0===d?"bottom":d,O=e.mode,m=e.onCancel,h=e.onConfirm,p=e.cancelText,v=void 0===p?"取消":p,g=e.confirmText,x=void 0===g?"确定":g,N=Object(a.b)(e,["className","children","layout","postion","mode","onCancel","onConfirm","cancelText","confirmText"]),C=Object(r.a)(u,Object(c.a)({},l[j],!O),b[f],t);return Object(s.jsx)(i.s,Object.assign({"className":C},N,{"children":O?"singleBtn"===O?Object(s.jsx)(i.a,Object.assign({"className":Object(r.a)("mode-single-btn","button-primary"),"onClick":h},{"children":x})):Object(s.jsxs)(i.s,Object.assign({"className":"mode-double-btn"},{"children":[Object(s.jsx)(i.a,Object.assign({"className":"button-default","onClick":m},{"children":v})),Object(s.jsx)(i.a,Object.assign({"className":"button-primary","onClick":h},{"children":x}))]})):n}))}},"147":function(e,t,n){"use strict";n.d(t,"a",(function(){return Modal}));var c=n(120),a=n(117),s=n(119),o=n(118),i=n(121),r=n(141),u=n(144),l=Object(s.a)("modal"),b={"top":"bf-modal-top","bottom":"bf-modal"};function Modal(e){var t=e.className,n=e.isOpened,s=void 0!==n&&n,j=e.title,d=void 0===j?"":j,f=e.titleSplit,O=void 0!==f&&f,m=e.postion,h=void 0===m?"bottom":m,p=e.children,v=e.actionConfig,g=e.onCancel,x=Object(c.b)(e,["className","isOpened","title","titleSplit","postion","children","actionConfig","onCancel"]),N=Object(i.a)(l,b[h],t);return Object(a.jsxs)(r.b,Object.assign({"className":N,"isOpened":s,"onClose":g},x,{"children":[d&&Object(a.jsx)(o.s,Object.assign({"className":Object(i.a)("header",{"header-split":O})},{"children":Object(a.jsx)(o.q,Object.assign({"className":"title"},{"children":d}))})),s&&Object(a.jsx)(o.s,Object.assign({"className":Object(i.a)({"content-no-title":!d})},{"children":p})),v&&Object(a.jsxs)(a.Fragment,{"children":[Object(a.jsx)(o.s,{"className":"affix-placeholder"}),Object(a.jsx)(u.a,Object.assign({},v))]})]}))}},"150":function(e,t,n){"use strict";n.d(t,"a",(function(){return ListFooter}));var c=n(117),a=n(119),s=n(118),o=n(17),i=Object(a.a)("list-footer");function ListFooter(e){var t=e.loading,n=void 0!==t&&t,a=e.isFinished,r=void 0!==a&&a,u=e.error,l=void 0!==u&&u,b=e.onErrorItemClick,j=Object(o.useMemo)((function(){return Object(c.jsx)(s.s,Object.assign({"className":i},{"children":"努力加载中……"}))}),[]),d=Object(o.useMemo)((function(){return Object(c.jsx)(s.s,Object.assign({"className":i},{"children":"没有更多了"}))}),[]),f=Object(o.useMemo)((function(){return Object(c.jsx)(s.s,Object.assign({"className":i,"onClick":b},{"children":"加载失败，点击重试"}))}),[b]);return n?j:l?f:r?d:null}},"151":function(e,t,n){},"152":function(e,t,n){"use strict";n.d(t,"a",(function(){return EmptyView}));var c=n(117),a=n(119),s=n(118),o=Object(a.a)("empty-view");function EmptyView(){return Object(c.jsxs)(s.s,Object.assign({"className":o},{"children":[Object(c.jsx)(s.c,{"src":"https://abi-static-resource.oss-cn-shanghai.aliyuncs.com/isales/img_empty.svg","className":"icon","mode":"aspectFit"}),Object(c.jsx)(s.q,Object.assign({"className":"text"},{"children":"这里还没有内容"}))]}))}},"156":function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var c=n(4),a=n(12),s=n(15),o=n(21),i=n.n(o),r=n(120),u=n(142),l=n(17),b=n.n(l);var j=n(117),d=n(119),f=n(118),O=n(121),m=n(152),h=n(150),p=Object(d.a)("scroll-view"),v=b.a.memo((function(e){var t=e.className,n=e.renderListItem,c=e.customEmptyView,a=e.defaultView,o=e.dataList,i=e._loadData,r=e.reloadWithError,u=e.loading,d=e.isFinished,v=e.error,g=e.header,x=e.footer,N=e.scrollViewClass,C=void 0===N?"":N,y=e.scrollViewProps,w=e.refresh,S=e.refreshComponent,k=Object(l.useRef)({}),E=Object(l.useState)(0),T=Object(s.a)(E,2),M=T[0],L=T[1],F=Object(l.useState)(!0),D=Object(s.a)(F,2),I=D[0],P=D[1],_=Object(l.useState)("end"),W=Object(s.a)(_,2),q=W[0],$=W[1];Object(l.useEffect)((function(){w&&u&&M&&(P(!0),L(0))}),[u,M]);var V=Object(l.useMemo)((function(){return c||Object(j.jsx)(m.a,{})}),[c]),z=Object(l.useMemo)((function(){return"end"===q&&1===M?Object(j.jsx)(f.s,Object.assign({"className":"refresh-component"},{"children":"数据刷新中……"})):"move"===q&&0===M?Object(j.jsx)(f.s,Object.assign({"className":"refresh-component"},{"children":"下拉即可刷新……"})):"end"!==q&&1===M?Object(j.jsx)(f.s,Object.assign({"className":"refresh-component"},{"children":"释放即可刷新……"})):Object(j.jsx)(f.s,{"className":Object(O.a)("refresh-component","refresh-component-hidden")})}),[q,M]),A=Object(l.useMemo)((function(){return S||z}),[S,z]),B=Object(l.useMemo)((function(){if(w){return{"onTouchStart":function onTouchStart(e){return function handleTouchStart(e){$("start"),k.current=e.touches[0]}(e)},"onTouchMove":function onTouchMove(e){return function handleTouchMove(e){var t=e.touches[0],n=k.current.clientX,c=k.current.clientY,a=t.clientX,s=t.clientY;Math.abs(a-n)/Math.abs(s-c)<.3&&(s-c>20&&($("move"),Math.abs(s-c)/3.5>=56&&w&&(L(1),P(!1))))}(e)},"onTouchEnd":function onTouchEnd(e){return function hanldeTouchEnd(e){$("end"),1===M&&w&&w()}()}}}}),[w]),H=Object(O.a)(p,t);return Object(j.jsxs)(f.s,Object.assign({"className":H},{"children":[g&&Object(j.jsx)(f.s,Object.assign({"className":"custom-header"},{"children":g})),w&&A,Object(j.jsxs)(f.l,Object.assign({"className":Object(O.a)("custom-scroll-view",C),"scrollY":I,"onScrollToLower":function onScrollToLower(){return i({})}},y,B,{"children":[(o||[]).map((function(e,t){return Object(j.jsx)(b.a.Fragment,{"children":n(e,t)},t)})),o.length<=0&&a,o.length<=0&&d&&V,Object(j.jsx)(h.a,{"loading":0===M&&u,"isFinished":o.length>0&&d,"error":v,"onErrorItemClick":r})]})),x&&Object(j.jsx)(f.s,Object.assign({"className":"custom-footer"},{"children":x}))]}))})),g=(n(151),v);g.useListHook=function useListHook(e){var t=this,n=e.loadData,o=e.queryProps,b=e.autoLoad,j=void 0!==b&&b,d=e.pageNoProps,f=void 0===d?"pageNo":d,O=e.pageSizeProps,m=void 0===O?"pageSize":O,h=e.successGroups,p=void 0===h?[200,2e5]:h,v=e.disablePaging,g=void 0!==v&&v,x=Object(l.useState)(!1),N=Object(s.a)(x,2),C=N[0],y=N[1],w=Object(l.useState)(!1),S=Object(s.a)(w,2),k=S[0],E=S[1],T=Object(l.useState)(!1),M=Object(s.a)(T,2),L=M[0],F=M[1],D=Object(l.useState)([]),I=Object(s.a)(D,2),P=I[0],_=I[1],W=Object(l.useState)(o||{}),q=Object(s.a)(W,2),$=q[0],V=q[1],z=Object(l.useState)(!1),A=Object(s.a)(z,2),B=A[0],H=A[1],Y=Object(l.useMemo)((function(){return Object(u.a)((function(e){return Object(r.a)(t,void 0,void 0,i.a.mark((function _callee(){var t,s,o;return i.a.wrap((function _callee$(i){for(;;)switch(i.prev=i.next){case 0:if(!C){i.next=2;break}return i.abrupt("return");case 2:return F(!1),E(!0),t=Object.assign(Object.assign({},$),e),i.next=7,n(t).catch((function(){return null}));case 7:s=i.sent,E(!1),s&&p.includes(s.code)?(P.length<=0?Array.isArray(s.data)&&_(s.data):(o=[].concat(Object(a.a)(P),Object(a.a)(s.data)),_(o)),V((function(e){return Object.assign(Object.assign({},e),Object(c.a)({},f,e[f]+1))})),(g||!s.data||s.data.length<=0||s.data.length<t[m])&&y(!0)):F(!0);case 10:case"end":return i.stop()}}),_callee)})))}),500)}),[C,P,$]);return Object(l.useEffect)((function(){B&&!C&&P.length<=0&&(H(!1),Y($))}),[B,P,C,$]),Object(l.useEffect)((function(){j&&Y($)}),[]),{"dataList":P,"_loadData":Y,"reLoadDataWithProps":function reLoadDataWithProps(e){y(!1),_([]),V(e),H(!0)},"reloadWithError":function reloadWithError(){Y({})},"loading":k,"isFinished":C,"error":L,"setDisablePaging":function setDisablePaging(){g=!0}}}},"158":function(e,t,n){"use strict";n.d(t,"a",(function(){return SearchBar}));var c=n(120),a=n(117),s=n(119),o=n(140),i=n(118),r=n(121),u=n(142),l=n(17),b=Object(s.a)("search-bar");function SearchBar(e){var t=e.rightSlot,n=e.onChange,s=e.className,j=Object(c.b)(e,["rightSlot","onChange","className"]),d=Object(l.useMemo)((function(){return Object(u.a)((function(e){null==n||n(e.detail.value.trim())}),500)}),[]);return Object(a.jsxs)(i.s,Object.assign({"className":Object(r.a)(b,s)},{"children":[Object(a.jsxs)(i.s,Object.assign({"className":"search-wrap"},{"children":[Object(a.jsx)(o.a,{"type":"icon-sousuo","className":"icon"}),Object(a.jsx)(i.d,Object.assign({"className":"input"},j,{"placeholderClass":"input-placeholder","onInput":d}))]})),t&&Object(a.jsx)(i.s,Object.assign({"className":"slot-right"},{"children":t}))]}))}},"179":function(e,t,n){},"264":function(e,t,n){"use strict";n.r(t);n(179);var c=n(15),a=n(21),s=n.n(a),o=n(120),i=n(117),r=n(119),u=n(140),l=n(149),b=n(118),j=n(121),d=n(17),f=n.n(d),O=n(147),m=n(156),h=n(158),p=Object(r.a)("modal-search-picker"),v=f.a.memo((function(e){var t=this,n=e.isOpened,a=void 0!==n&&n,r=e.title,f=void 0===r?"请选择":r,v=e.request,g=e.params,x=e.id,N=e.value,C=e.fieldNames,y=void 0===C?{"label":"label","value":"value"}:C,w=e.placeholder,S=e.onCancel,k=e.onConfirm,E=Object(d.useState)(),T=Object(c.a)(E,2),M=T[0],L=T[1],F=Object(d.useState)({"pageNo":1,"pageSize":10}),D=Object(c.a)(F,2),I=D[0],P=D[1];Object(d.useEffect)((function(){a&&P((function(e){var t=Object.assign({"pageNo":1,"pageSize":10,"searchText":e.searchText},g);return W(t),t}))}),[a,g]);var _=m.a.useListHook({"loadData":function loadData(e){return Object(o.a)(t,void 0,void 0,s.a.mark((function _callee(){var t,n;return s.a.wrap((function _callee$(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,v(e).catch((function(){return null}));case 2:return t=c.sent,l.b.isNull(N)?L(void 0):(n=(t||[]).find((function(e){return e[y.value]===N})))&&L(Object.assign({},n)),c.abrupt("return",{"code":200,"data":t});case 5:case"end":return c.stop()}}),_callee)})))},"queryProps":I}),W=_.reLoadDataWithProps,q=Object(o.b)(_,["reLoadDataWithProps"]),$=Object(d.useMemo)((function(){return{"mode":"doubleBtn","onCancel":S,"onConfirm":function onConfirm(){M&&(null==k||k(M,x))}}}),[x,M]);return Object(i.jsx)(O.a,Object.assign({"className":p,"isOpened":a,"title":f,"onCancel":S,"actionConfig":$},{"children":Object(i.jsx)(b.s,Object.assign({"className":"content"},{"children":Object(i.jsx)(m.a,Object.assign({},q,{"renderListItem":function renderListItem(e){var t=(null==M?void 0:M.value)===e[y.value];return Object(i.jsxs)(b.s,Object.assign({"className":Object(j.a)("list-item",{"selected":t}),"onClick":function onClick(){L(Object.assign({"label":e[y.label],"value":e[y.value]},e))}},{"children":[Object(i.jsx)(b.q,{"children":e[y.label]}),t&&Object(i.jsx)(u.a,{"type":"icon-radio-on","className":"icon-selected"})]}))},"header":Object(i.jsx)(h.a,{"placeholder":w,"onChange":function handleOnSearchBarChange(e){P((function(t){var n=Object.assign(Object.assign({},t),{"searchText":e});return W(n),n}))}})}))}))}))})),g=n(32);t.default=function(){var e=Object(d.useState)(!1),t=Object(c.a)(e,2),n=t[0],a=t[1];return Object(i.jsxs)(i.Fragment,{"children":[Object(i.jsx)(b.a,{"onClick":function onClick(){return a(!0)},"children":"open"}),Object(i.jsx)(v,{"isOpened":n,"title":"选择商品","placeholder":"请输入商品名称","value":2,"params":{"test":"a"},"request":function(){var e=Object(g.a)(s.a.mark((function _callee(e){return s.a.wrap((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return console.log("request params",e),t.abrupt("return",Array.from({"length":20},(function(e,t){return{"label":"百威纯生 500ml 大听(".concat(t,")"),"value":t}})));case 2:case"end":return t.stop()}}),_callee)})));return function(t){return e.apply(this,arguments)}}(),"onCancel":function onCancel(){return a(!1)},"onConfirm":function onConfirm(e){console.log("onConfirm",e)}})]})}}}]);
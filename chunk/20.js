(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{"125":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var c=n(120),a=n(117),r=n(121),i=n(17),s=n.n(i),o=n(141);function Iconfont(e){var t=e.type,n=e.onClick,i=e.className,s=e.style,l=Object(c.b)(e,["type","onClick","className","style"]);return Object(a.jsx)(o.c,Object.assign({"prefixClass":"iconfont","value":"","className":Object(r.a)(t,i),"customStyle":Object.assign({},s,{"fontSize":"16px"}),"onClick":n},l))}var l=s.a.memo(Iconfont)},"142":function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var c=n(8),a=n(143),r=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt,u="object"==Object(c.a)(a.a)&&a.a&&a.a.Object===Object&&a.a,b="object"==("undefined"==typeof self?"undefined":Object(c.a)(self))&&self&&self.Object===Object&&self,d=u||b||Function("return this")(),j=Object.prototype.toString,f=Math.max,O=Math.min,m=function now(){return d.Date.now()};function isObject(e){var t=Object(c.a)(e);return!!e&&("object"==t||"function"==t)}function isSymbol(e){return"symbol"==Object(c.a)(e)||function isObjectLike(e){return!!e&&"object"==Object(c.a)(e)}(e)&&"[object Symbol]"==j.call(e)}function toNumber(e){if("number"==typeof e)return e;if(isSymbol(e))return NaN;if(isObject(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=isObject(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var n=s.test(e);return n||o.test(e)?l(e.slice(2),n?2:8):i.test(e)?NaN:+e}var p=function debounce(e,t,n){var c,a,r,i,s,o,l=0,u=!1,b=!1,d=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function invokeFunc(t){var n=c,r=a;return c=a=void 0,l=t,i=e.apply(r,n)}function leadingEdge(e){return l=e,s=setTimeout(timerExpired,t),u?invokeFunc(e):i}function shouldInvoke(e){var n=e-o;return void 0===o||n>=t||n<0||b&&e-l>=r}function timerExpired(){var e=m();if(shouldInvoke(e))return trailingEdge(e);s=setTimeout(timerExpired,function remainingWait(e){var n=t-(e-o);return b?O(n,r-(e-l)):n}(e))}function trailingEdge(e){return s=void 0,d&&c?invokeFunc(e):(c=a=void 0,i)}function debounced(){var e=m(),n=shouldInvoke(e);if(c=arguments,a=this,o=e,n){if(void 0===s)return leadingEdge(o);if(b)return s=setTimeout(timerExpired,t),invokeFunc(o)}return void 0===s&&(s=setTimeout(timerExpired,t)),i}return t=toNumber(t)||0,isObject(n)&&(u=!!n.leading,r=(b="maxWait"in n)?f(toNumber(n.maxWait)||0,t):r,d="trailing"in n?!!n.trailing:d),debounced.cancel=function cancel(){void 0!==s&&clearTimeout(s),l=0,c=o=a=s=void 0},debounced.flush=function flush(){return void 0===s?i:trailingEdge(m())},debounced}},"143":function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return c}));var c="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{}}).call(this,n(35))},"144":function(e,t,n){"use strict";n.d(t,"a",(function(){return Affix}));var c=n(4),a=n(120),r=n(117),i=n(119),s=n(118),o=n(121),l=Object(i.a)("affix"),u={"left":"".concat(l,"-left"),"center":"".concat(l,"-center"),"right":"".concat(l,"-right"),"space-between":"".concat(l,"-space-between"),"space-around":"".concat(l,"-space-around")},b={"top":"".concat(l,"-top"),"bottom":"".concat(l,"-bottom")};function Affix(e){var t=e.className,n=e.children,i=e.layout,d=void 0===i?"center":i,j=e.postion,f=void 0===j?"bottom":j,O=e.mode,m=e.onCancel,p=e.onConfirm,h=e.cancelText,g=void 0===h?"取消":h,v=e.confirmText,x=void 0===v?"确定":v,N=Object(a.b)(e,["className","children","layout","postion","mode","onCancel","onConfirm","cancelText","confirmText"]),C=Object(o.a)(l,Object(c.a)({},u[d],!O),b[f],t);return Object(r.jsxs)(r.Fragment,{"children":["bottom"===f&&Object(r.jsx)(s.s,{"className":"".concat(l,"-placeholder")}),Object(r.jsx)(s.s,Object.assign({"className":C},N,{"children":O?"singleBtn"===O?Object(r.jsx)(s.a,Object.assign({"className":Object(o.a)("mode-single-btn","button-primary"),"onClick":p},{"children":x})):Object(r.jsxs)(s.s,Object.assign({"className":"mode-double-btn"},{"children":[Object(r.jsx)(s.a,Object.assign({"className":"button-default","onClick":m},{"children":g})),Object(r.jsx)(s.a,Object.assign({"className":"button-primary","onClick":p},{"children":x}))]})):n}))]})}},"147":function(e,t,n){"use strict";n.d(t,"a",(function(){return Modal}));var c=n(120),a=n(117),r=n(119),i=n(118),s=n(121),o=n(141),l=n(144),u=Object(r.a)("modal"),b={"top":"bf-modal-top","bottom":"bf-modal"};function Modal(e){var t=e.className,n=e.isOpened,r=void 0!==n&&n,d=e.title,j=void 0===d?"":d,f=e.titleSplit,O=void 0!==f&&f,m=e.postion,p=void 0===m?"bottom":m,h=e.children,g=e.actionConfig,v=e.onCancel,x=Object(c.b)(e,["className","isOpened","title","titleSplit","postion","children","actionConfig","onCancel"]),N=Object(s.a)(u,b[p],t);return Object(a.jsxs)(o.b,Object.assign({"className":N,"isOpened":r,"onClose":v},x,{"children":[j&&Object(a.jsx)(i.s,Object.assign({"className":Object(s.a)("header",{"header-split":O})},{"children":Object(a.jsx)(i.q,Object.assign({"className":"title"},{"children":j}))})),r&&Object(a.jsx)(i.s,Object.assign({"className":Object(s.a)({"content-no-title":!j})},{"children":h})),g&&Object(a.jsx)(l.a,Object.assign({},g))]}))}},"150":function(e,t,n){"use strict";n.d(t,"a",(function(){return ListFooter}));var c=n(117),a=n(119),r=n(118),i=n(17),s=Object(a.a)("list-footer");function ListFooter(e){var t=e.loading,n=void 0!==t&&t,a=e.isFinished,o=void 0!==a&&a,l=e.error,u=void 0!==l&&l,b=e.onErrorItemClick,d=Object(i.useMemo)((function(){return Object(c.jsx)(r.s,Object.assign({"className":s},{"children":"努力加载中……"}))}),[]),j=Object(i.useMemo)((function(){return Object(c.jsx)(r.s,Object.assign({"className":s},{"children":"没有更多了"}))}),[]),f=Object(i.useMemo)((function(){return Object(c.jsx)(r.s,Object.assign({"className":s,"onClick":b},{"children":"加载失败，点击重试"}))}),[b]);return n?d:u?f:o?j:null}},"151":function(e,t,n){},"152":function(e,t,n){"use strict";n.d(t,"a",(function(){return EmptyView}));var c=n(117),a=n(119),r=n(118),i=Object(a.a)("empty-view");function EmptyView(){return Object(c.jsxs)(r.s,Object.assign({"className":i},{"children":[Object(c.jsx)(r.c,{"src":"https://abi-static-resource.oss-cn-shanghai.aliyuncs.com/isales/img_empty.svg","className":"icon","mode":"aspectFit"}),Object(c.jsx)(r.q,Object.assign({"className":"text"},{"children":"这里还没有内容"}))]}))}},"157":function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var c=n(4),a=n(12),r=n(15),i=n(21),s=n.n(i),o=n(120),l=n(142),u=n(17),b=n.n(u);var d=n(117),j=n(119),f=n(118),O=n(121),m=n(152),p=n(150),h=Object(j.a)("scroll-view"),g=b.a.memo((function(e){var t=e.className,n=e.renderListItem,c=e.customEmptyView,a=e.defaultView,r=e.dataList,i=e._loadData,s=e.reloadWithError,o=e.loading,l=e.isFinished,j=e.error,g=e.header,v=e.footer,x=e.scrollViewClass,N=void 0===x?"":x,C=e.scrollViewProps,y=Object(u.useMemo)((function(){return c||Object(d.jsx)(m.a,{})}),[c]),w=Object(O.a)(h,t);return Object(d.jsxs)(f.s,Object.assign({"className":w},{"children":[g&&Object(d.jsx)(f.s,Object.assign({"className":"custom-header"},{"children":g})),Object(d.jsxs)(f.l,Object.assign({"className":Object(O.a)("custom-scroll-view",N),"scrollY":!0,"onScrollToLower":function onScrollToLower(){return i({})}},C,{"children":[(r||[]).map((function(e,t){return Object(d.jsx)(b.a.Fragment,{"children":n(e,t)},t)})),r.length<=0&&a,r.length<=0&&l&&y,Object(d.jsx)(p.a,{"loading":o,"isFinished":r.length>0&&l,"error":j,"onErrorItemClick":s})]})),v&&Object(d.jsx)(f.s,Object.assign({"className":"custom-footer"},{"children":v}))]}))})),v=(n(151),g);v.useListHook=function useListHook(e){var t=this,n=e.loadData,i=e.queryProps,b=e.autoLoad,d=void 0!==b&&b,j=e.pageNoProps,f=void 0===j?"pageNo":j,O=e.pageSizeProps,m=void 0===O?"pageSize":O,p=e.successGroups,h=void 0===p?[200,2e5]:p,g=e.disablePaging,v=void 0!==g&&g,x=Object(u.useState)(!1),N=Object(r.a)(x,2),C=N[0],y=N[1],w=Object(u.useState)(!1),k=Object(r.a)(w,2),S=k[0],E=k[1],L=Object(u.useState)(!1),T=Object(r.a)(L,2),F=T[0],_=T[1],D=Object(u.useState)([]),I=Object(r.a)(D,2),P=I[0],M=I[1],q=Object(u.useState)(i||{}),W=Object(r.a)(q,2),$=W[0],B=W[1],A=Object(u.useState)(!1),V=Object(r.a)(A,2),z=V[0],H=V[1],J=Object(u.useMemo)((function(){return Object(l.a)((function(e){return Object(o.a)(t,void 0,void 0,s.a.mark((function _callee(){var t,r,i;return s.a.wrap((function _callee$(s){for(;;)switch(s.prev=s.next){case 0:if(!C){s.next=2;break}return s.abrupt("return");case 2:return _(!1),E(!0),t=Object.assign(Object.assign({},$),e),s.next=7,n(t).catch((function(){return null}));case 7:r=s.sent,E(!1),r&&h.includes(r.code)?(P.length<=0?Array.isArray(r.data)&&M(r.data):(i=[].concat(Object(a.a)(P),Object(a.a)(r.data)),M(i)),B((function(e){return Object.assign(Object.assign({},e),Object(c.a)({},f,e[f]+1))})),(v||!r.data||r.data.length<=0||r.data.length<t[m])&&y(!0)):_(!0);case 10:case"end":return s.stop()}}),_callee)})))}),500)}),[C,P,$]);return Object(u.useEffect)((function(){z&&!C&&P.length<=0&&(H(!1),J($))}),[z,P,C,$]),Object(u.useEffect)((function(){d&&J($)}),[]),{"dataList":P,"_loadData":J,"reLoadDataWithProps":function reLoadDataWithProps(e){y(!1),M([]),B(e),H(!0)},"reloadWithError":function reloadWithError(){J({})},"loading":S,"isFinished":C,"error":F,"setDisablePaging":function setDisablePaging(){v=!0}}}},"159":function(e,t,n){"use strict";n.d(t,"a",(function(){return SearchBar}));var c=n(120),a=n(117),r=n(119),i=n(125),s=n(118),o=n(121),l=n(142),u=n(17),b=Object(r.a)("search-bar");function SearchBar(e){var t=e.rightSlot,n=e.onChange,r=e.className,d=Object(c.b)(e,["rightSlot","onChange","className"]),j=Object(u.useMemo)((function(){return Object(l.a)((function(e){null==n||n(e.detail.value.trim())}),500)}),[]);return Object(a.jsxs)(s.s,Object.assign({"className":Object(o.a)(b,r)},{"children":[Object(a.jsxs)(s.s,Object.assign({"className":"search-wrap"},{"children":[Object(a.jsx)(i.a,{"type":"icon-sousuo","className":"icon"}),Object(a.jsx)(s.d,Object.assign({"className":"input"},d,{"placeholderClass":"input-placeholder","onInput":j}))]})),t&&Object(a.jsx)(s.s,Object.assign({"className":"slot-right"},{"children":t}))]}))}},"181":function(e,t,n){},"275":function(e,t,n){"use strict";n.r(t);n(181);var c=n(15),a=n(21),r=n.n(a),i=n(120),s=n(117),o=n(119),l=n(125),u=n(149),b=n(118),d=n(121),j=n(17),f=n.n(j),O=n(147),m=n(157),p=n(159),h=Object(o.a)("modal-search-picker"),g=f.a.memo((function(e){var t=this,n=e.isOpened,a=void 0!==n&&n,o=e.title,f=void 0===o?"请选择":o,g=e.request,v=e.params,x=e.id,N=e.value,C=e.fieldNames,y=void 0===C?{"label":"label","value":"value"}:C,w=e.placeholder,k=e.header,S=e.onCancel,E=e.onConfirm,L=Object(j.useState)(),T=Object(c.a)(L,2),F=T[0],_=T[1],D=Object(j.useState)({"pageNo":1,"pageSize":10}),I=Object(c.a)(D,2),P=I[0],M=I[1];Object(j.useEffect)((function(){a&&M((function(e){var t=Object.assign({"pageNo":1,"pageSize":10},v);return e.searchText&&(t.searchText=e.searchText),W(t),t}))}),[a,v]);var q=m.a.useListHook({"loadData":function loadData(e){return Object(i.a)(t,void 0,void 0,r.a.mark((function _callee(){var t,n;return r.a.wrap((function _callee$(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,g(e).catch((function(){return null}));case 2:return t=c.sent,u.b.isNull(N)?_(void 0):(n=(t||[]).find((function(e){return e[y.value]===N})))&&_(Object.assign({},n)),c.abrupt("return",{"code":200,"data":t});case 5:case"end":return c.stop()}}),_callee)})))},"queryProps":P}),W=q.reLoadDataWithProps,$=Object(i.b)(q,["reLoadDataWithProps"]),B=Object(j.useMemo)((function(){return{"mode":"doubleBtn","onCancel":S,"onConfirm":function onConfirm(){F&&(null==E||E(F,x))}}}),[x,F]);return Object(s.jsx)(O.a,Object.assign({"className":h,"isOpened":a,"title":f,"onCancel":S,"actionConfig":B},{"children":Object(s.jsx)(b.s,Object.assign({"className":"content"},{"children":Object(s.jsx)(m.a,Object.assign({},$,{"renderListItem":function renderListItem(e){var t=(null==F?void 0:F.value)===e[y.value];return Object(s.jsxs)(b.s,Object.assign({"className":Object(d.a)("list-item",{"selected":t}),"onClick":function onClick(){_(Object.assign({"label":e[y.label],"value":e[y.value]},e))}},{"children":[Object(s.jsx)(b.q,{"children":e[y.label]}),t&&Object(s.jsx)(l.a,{"type":"icon-radio-on","className":"icon-selected"})]}))},"header":k||Object(s.jsx)(p.a,{"placeholder":w,"onChange":function handleOnSearchBarChange(e){M((function(t){var n=Object.assign(Object.assign({},t),{"searchText":e});return W(n),n}))}})}))}))}))})),v=n(32);t.default=function(){var e=Object(j.useState)(!1),t=Object(c.a)(e,2),n=t[0],a=t[1],i=Object(j.useState)(!1),o=Object(c.a)(i,2),l=o[0],u=o[1];return Object(s.jsxs)(s.Fragment,{"children":[Object(s.jsx)(b.a,{"onClick":function onClick(){return a(!0)},"children":"基础用法"}),Object(s.jsx)(b.a,{"onClick":function onClick(){return u(!0)},"children":"自定义头部（会替换掉默认的searchBar）"}),Object(s.jsx)(g,{"isOpened":n,"title":"选择商品","placeholder":"请输入商品名称","value":2,"params":{"test":"a"},"request":function(){var e=Object(v.a)(r.a.mark((function _callee(e){return r.a.wrap((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return console.log("request params",e),t.abrupt("return",Array.from({"length":20},(function(e,t){return{"label":"百威纯生 500ml 大听(".concat(t,")"),"value":t}})));case 2:case"end":return t.stop()}}),_callee)})));return function(t){return e.apply(this,arguments)}}(),"onCancel":function onCancel(){return a(!1)},"onConfirm":function onConfirm(e){console.log("onConfirm",e),a(!1)}}),Object(s.jsx)(g,{"isOpened":l,"title":"选择商品","placeholder":"请输入商品名称","value":2,"header":Object(s.jsx)(b.s,{"children":"以下为完美门店联系人列表，可选择一位成为BEES项目关键人"}),"request":function(){var e=Object(v.a)(r.a.mark((function _callee2(e){return r.a.wrap((function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:return console.log("request params",e),t.abrupt("return",Array.from({"length":20},(function(e,t){return{"label":"百威纯生 500ml 大听(".concat(t,")"),"value":t}})));case 2:case"end":return t.stop()}}),_callee2)})));return function(t){return e.apply(this,arguments)}}(),"onCancel":function onCancel(){return u(!1)},"onConfirm":function onConfirm(e){console.log("onConfirm",e),u(!1)}})]})}}}]);